<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gallery | Americas Cup 2024</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="../components/components.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700;900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body data-page="gallery">
    <!-- Header Component -->
    <div id="header-component"></div>

    <!-- Hero -->
    <section class="hero-section"></section>

    <!-- Category tabs -->
    <section class="category-tabs">
      <div class="category-tabs-container">
        <!-- Main category tabs with icons -->
        <div class="tabs-row">
          <button class="tab active" data-category="all">
            <div class="tab-icon">
              <img src="../assets/illustrations/gallery/all.svg" alt="All" />
            </div>
            <span class="tab-label">ALL</span>
          </button>
          <button class="tab" data-category="football">
            <div class="tab-icon">
              <img
                src="../assets/illustrations/gallery/football.svg"
                alt="Football"
              />
            </div>
            <span class="tab-label">FOOTBALL</span>
          </button>
          <button class="tab" data-category="cheerleading">
            <div class="tab-icon">
              <img
                src="../assets/illustrations/gallery/cheerleading.svg"
                alt="Cheerleading"
              />
            </div>
            <span class="tab-label">CHEERLEADING</span>
          </button>
          <button class="tab" data-category="events">
            <div class="tab-icon">
              <img
                src="../assets/illustrations/gallery/events.svg"
                alt="Events"
              />
            </div>
            <span class="tab-label">EVENTS</span>
          </button>
          <button class="tab" data-category="general">
            <div class="tab-icon">
              <img
                src="../assets/illustrations/gallery/general.svg"
                alt="General"
              />
            </div>
            <span class="tab-label">GENERAL</span>
          </button>
        </div>

        <!-- Year selection buttons -->
        <div class="years-row">
          <button class="year-btn active" data-year="2018">2018</button>
          <button class="year-btn" data-year="2019">2019</button>
          <button class="year-btn" data-year="2020">2020</button>
          <button class="year-btn" data-year="2021">2021</button>
          <button class="year-btn" data-year="2022">2022</button>
        </div>
      </div>
    </section>

    <!-- Gallery grid -->
    <main class="gallery-main">
      <!-- Selection Display -->
      <div class="selection-display">
        <h2 id="selection-text">All-2018</h2>
      </div>
      <div class="grid">
        <!-- 15 placeholders -->
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
        <div class="card"></div>
      </div>
      <div class="load-more">
        <button class="load-more-btn">Load More</button>
      </div>
    </main>

    <!-- Footer Component -->
    <div id="footer-component"></div>

    <script>
      // Tab functionality
      document.addEventListener("DOMContentLoaded", function () {
        // Category tabs
        const categoryTabs = document.querySelectorAll(".tab");
        const yearButtons = document.querySelectorAll(".year-btn");
        const selectionText = document.getElementById("selection-text");

        // Function to update display text
        function updateSelectionDisplay() {
          const activeCategory = document.querySelector(".tab.active").getAttribute("data-category");
          const activeYear = document.querySelector(".year-btn.active").getAttribute("data-year");
          
          // Capitalize first letter of category
          const categoryDisplay = activeCategory.charAt(0).toUpperCase() + activeCategory.slice(1);
          
          selectionText.textContent = `${categoryDisplay}-${activeYear}`;
        }

        categoryTabs.forEach((tab) => {
          tab.addEventListener("click", function () {
            // Remove active class from all category tabs
            categoryTabs.forEach((t) => t.classList.remove("active"));
            // Add active class to clicked tab
            this.classList.add("active");

            // Update display text
            updateSelectionDisplay();

            // Here you would typically filter the gallery content
            const category = this.getAttribute("data-category");
            console.log("Selected category:", category);
          });
        });

        yearButtons.forEach((btn) => {
          btn.addEventListener("click", function () {
            // Remove active class from all year buttons
            yearButtons.forEach((b) => b.classList.remove("active"));
            // Add active class to clicked button
            this.classList.add("active");

            // Update display text
            updateSelectionDisplay();

            // Here you would typically filter by year
            const year = this.getAttribute("data-year");
            console.log("Selected year:", year);
          });
        });
      });

      // Load Components
      async function loadComponents() {
        try {
          // Load header component
          const headerResponse = await fetch('../components/header.html');
          const headerHTML = await headerResponse.text();
          document.getElementById('header-component').innerHTML = headerHTML;
          
          // Load footer component
          const footerResponse = await fetch('../components/footer.html');
          const footerHTML = await footerResponse.text();
          document.getElementById('footer-component').innerHTML = footerHTML;
          
          // Load components JavaScript
          const script = document.createElement('script');
          script.src = '../components/components.js';
          script.onload = function() {
            // Initialize components after script is loaded
            if (window.initializeComponentsAfterLoad) {
              window.initializeComponentsAfterLoad();
            }
          };
          document.head.appendChild(script);
        } catch (error) {
          console.error('Error loading components:', error);
        }
      }

      // Wait for DOM to be ready
      document.addEventListener('DOMContentLoaded', function() {
        // Load components
        loadComponents();
      });
    </script>
  </body>
</html>
